# 新旧算法对比验证计划 (网宿科技 & 浙文互联)

根据您的要求，我将先执行一次“数据验证”，暂不修改后端代码。本次验证将详细对比新老算法在 **网宿科技 (sz300017)** 和 **浙文互联 (sh600986)** 两只股票上的表现。

### 验证内容

1.  **原始数据全展示 (Raw Data)**：
    *   列出新浪 API 返回的 `r0` (超大单), `r1` (大单), `r2` (中单), `r3` (小单) 的**总额**和**净额**。
    *   不做任何加工，直接呈现数据源的真实面貌。

2.  **老算法 (Current Logic)**：
    *   `活跃度 = (主力买入 + 主力卖出) / 总成交额`
    *   其中主力买卖是基于 `(总额 ± 净额) / 2` 推算的（包含中性盘水分）。
    *   预期结果：网宿科技可能接近 100%，浙文互联待测。

3.  **新算法 (Optimized Logic)**：
    *   `活跃度 = (r0 + r1) / (r0 + r1 + r2 + r3)`
    *   直接计算**主力资金成交额占全天总成交额的比例**。
    *   剔除了因算法推算引入的虚高成分，更真实反映主力参与度。
    *   预期结果：数值会明显下降，更符合“主力控盘程度”的直观感受。

### 执行步骤

1.  **编写验证脚本 `verify_optimization.py`**：
    *   包含网宿科技 (sz300017) 和 浙文互联 (sh600986)。
    *   实现上述两种算法的并行计算。
    *   打印详细的对比表格。

2.  **运行并分析**：
    *   执行脚本，获取 2026-02-11 的数据。
    *   向您汇报对比结果，确认新算法是否符合您的预期（如从 99% 降至 90% 左右）。

请批准执行此验证计划。