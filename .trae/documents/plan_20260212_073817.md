### 1. 现有指标解释 (Current Indicators)
目前的“主力动态”分时图展示的是**每分钟**的资金博弈强度，属于**瞬时指标**：
*   **主力买入占比 (红色)**: 该分钟内，主力买入额占该分钟总成交额的比例。代表多头进攻的瞬时强度。
*   **主力卖出占比 (绿色)**: 该分钟内，主力卖出额占该分钟总成交额的比例。代表空头抛压的瞬时强度。
*   **主力参与度 (黄色)**: (主力买入+卖出) / 总成交额。代表主力资金在该分钟的活跃程度或控盘程度。

### 2. 您的想法点评 (Evaluation)
您的想法**非常专业且切中痛点**。
*   现有图表虽然能看到“此时此刻”谁强谁弱，但很难直观看出“全天下来”究竟是资金净流入还是净流出。
*   **累积图 (Cumulative Chart)** 能滤除分钟级别的噪音，展示全天的主力资金**趋势**。例如，可能某几分钟卖出占比高，但全天累积下来可能依然是大幅净流入。这才是判断当天资金意图的核心依据。

### 3. 优化方案设计 (Solution Design)

我将在现有图表下方新增一个**“主力累计资金”**趋势图，并实现双轴联动。

#### A. 前端交互与UI (Frontend)
*   **新增图表**: 在原分时图下方增加一个高度相同的折线图。
*   **双轴联动**: 两个图表的 X 轴（时间）完全同步，鼠标悬停时会同时显示同一时间点的数据十字准星 (Crosshair)。
*   **展示指标**:
    1.  **主力累计净流入 (核心)**: (累积买入 - 累积卖出)。用**面积图**或粗线展示，直观判断多空趋势。
    2.  **主力累计买入额**: 辅助参考。
    3.  **主力累计卖出额**: 辅助参考。
*   **单位**: 自动转换为“万元”或“亿元”。

#### B. 数据逻辑 (Data Logic)
*   **无需后端修改**: 既然前端已经获取了全量的逐笔数据 (`ticks`)，我们完全可以在前端 `calculator.ts` 中基于现有数据进行二次聚合计算，无需增加服务器压力。
*   **计算逻辑**:
    1.  按时间顺序遍历全天逐笔数据。
    2.  维护 `cumBuy` (累积买) 和 `cumSell` (累积卖) 变量。
    3.  每分钟结束时，记录当前的累积值，生成一个新的数据序列。

#### C. 实施步骤
1.  **类型定义**: 在 `src/types.ts` 中增加 `CumulativeCapitalData` 接口。
2.  **核心算法**: 在 `src/utils/calculator.ts` 中新增 `calculateCumulativeCapitalFlow` 函数。
3.  **组件开发**: 修改 `src/components/dashboard/RealtimeView.tsx`，引入新计算逻辑并渲染第二个 Recharts 图表，配置 `syncId` 实现联动。
