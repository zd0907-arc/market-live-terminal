# 执行计划：Git 备份与代码重构

收到，我将首先确保您的代码安全备份到 Git，然后立即开始执行 **第一阶段：前端组件化重构**。

---

## 步骤一：Git 备份 (优先执行)
您当前有未提交的重要修改（包括修复的时间轴排序、UI 调整等）。
1.  执行 `git add .` 将所有变更（`App.tsx`, `server.py`, `stockService.ts` 等）加入暂存区。
2.  执行 `git commit -m "Backup: Fix server sorting, UI layout and service logic"` 提交版本。
3.  执行 `git push origin main` 推送到远程仓库，确保云端备份成功。

## 步骤二：前端组件拆分重构 (Refactoring Phase 1)
为了解决 `App.tsx` 过大且易改坏的问题，我将进行无损重构：

1.  **创建组件目录**:
    *   创建 `src/components/dashboard` 目录。

2.  **拆分 `RealtimeView` (实时行情)**:
    *   新建 `src/components/dashboard/RealtimeView.tsx`。
    *   将 `App.tsx` 中关于“实时数据”、“倒计时”、“自动刷新逻辑”以及对应的图表部分迁移至此。

3.  **拆分 `HistoryView` (历史回溯)**:
    *   新建 `src/components/dashboard/HistoryView.tsx`。
    *   将 `App.tsx` 中关于“日期选择”、“历史数据请求”、“历史图表”部分迁移至此。

4.  **瘦身 `App.tsx`**:
    *   `App.tsx` 将只保留顶部的 Tab 切换（实时/历史）和全局容器，通过引入上述两个子组件来渲染页面。

**预期结果**:
*   `App.tsx` 代码量将减少 60% 以上。
*   后续修改“实时”功能时，只需打开 `RealtimeView.tsx`，完全隔离“历史”功能的代码风险。
