# 问题定位与修复方案

我已找到导致“历史数据为空”的原因，**不需要回退代码**。

### 问题根源
在将后端从同步 (`requests`) 迁移到异步 (`httpx`) 的过程中，**新浪财经旧版接口的编码兼容性问题**暴露了出来：
1.  **编码识别错误**：新浪接口返回的是老旧的 **GBK** 编码数据，`requests` 库通常能自动“猜”对，但 `httpx` 库默认偏向 UTF-8，导致获取到的响应内容乱码。
2.  **数据解析失败**：由于内容乱码，正则表达式无法正确提取 JSON Key，导致数据解析抛出异常，最终函数返回了空列表 `[]`，前端因此显示为空。

### 修复计划
我将对 `backend/app/services/market.py` 进行微调修复，确保正确处理中文编码：

1.  **强制解码**：不依赖库的自动猜测，显式使用 `GBK` 解码新浪接口数据。
2.  **清理调试代码**：移除刚才为了排查问题在 `analysis.py` 中添加的临时调试代码。
3.  **验证**：重启服务并验证数据获取是否恢复正常。

请批准执行此修复，预计 1 分钟内完成。